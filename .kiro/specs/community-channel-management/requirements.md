# 요구사항 문서

## 개요

이 기능은 새로운 커뮤니티를 만드는 것이 아니라, 기존에 형성된 커뮤니티(카카오톡 오픈채팅방, 소모임 등)를 효율적으로 관리하기 위한 커뮤니티 채널 관리 시스템을 구현합니다. 앱은 커뮤니티 활동을 조직하고 관리하는 데 도움이 되는 '채널' 역할을 하며, 특히 일정 관리와 멤버 관리에 중점을 둡니다.

## 요구사항

### 요구사항 1

**사용자 스토리:** 커뮤니티 관리자로서, 기존 커뮤니티를 위한 채널을 생성하여 멤버 활동과 이벤트를 효율적으로 관리하고 싶습니다.

#### 인수 기준

1. 사용자가 앱을 처음 실행할 때 시스템은 구글 및 애플 계정 로그인 옵션을 표시해야 합니다
2. 관리자가 "새 모임 채널 만들기"를 선택할 때 시스템은 모임 이름과 소개를 입력하도록 요청해야 합니다
3. 채널 생성이 완료될 때 시스템은 고유한 공유 가능한 초대 링크를 생성해야 합니다
4. 초대 링크가 생성될 때 시스템은 관리자가 기존 커뮤니티 멤버들과 링크를 복사하고 공유할 수 있도록 해야 합니다

### 요구사항 2

**사용자 스토리:** 커뮤니티 멤버로서, 초대 링크를 통해 채널에 가입하여 커뮤니티 활동에 참여하고 싶습니다.

#### 인수 기준

1. 멤버가 공유된 초대 링크를 클릭할 때 앱이 설치되지 않은 경우 시스템은 앱 스토어로 리디렉션해야 합니다
2. 멤버가 공유된 초대 링크를 클릭하고 앱이 설치된 경우 시스템은 앱을 직접 열어야 합니다
3. 멤버가 구글/애플 로그인을 완료할 때 시스템은 자동으로 해당 커뮤니티 채널에 추가해야 합니다
4. 멤버가 성공적으로 가입할 때 시스템은 메인 앱 인터페이스를 표시해야 합니다

### 요구사항 3

**사용자 스토리:** 사용자로서, 개인 이벤트와 활동을 확인하여 참여를 효율적으로 관리하고 싶습니다.

#### 인수 기준

1. 사용자가 "나의 벙" 탭에 접근할 때 시스템은 참여하거나 대기 중인 이벤트를 표시해야 합니다
2. 사용자가 "나의 벙" 탭에 접근할 때 시스템은 생성한 이벤트와 참여 현황을 표시해야 합니다
3. 사용자가 어떤 화면에 있든 시스템은 새 이벤트 생성을 위한 플로팅 액션 버튼을 표시해야 합니다
4. 이벤트가 표시될 때 시스템은 시간순으로 정렬해야 합니다

### 요구사항 4

**사용자 스토리:** 커뮤니티 멤버로서, 모든 커뮤니티 이벤트를 확인하여 활동을 발견하고 참여하고 싶습니다.

#### 인수 기준

1. 사용자가 "전체 벙 일정" 탭에 접근할 때 시스템은 채널의 모든 공개 이벤트를 표시해야 합니다
2. 이벤트가 나열될 때 시스템은 이벤트 이름, 날짜/시간, 장소, 주최자, 참여 현황을 표시해야 합니다
3. 사용자가 이벤트를 탭할 때 시스템은 이벤트 상세 화면으로 이동해야 합니다
4. 이벤트 상세를 볼 때 시스템은 참여, 대기, 참여 취소 옵션을 제공해야 합니다

### 요구사항 5

**사용자 스토리:** 사용자로서, 프로필과 앱 설정을 관리하여 경험을 맞춤화하고 싶습니다.

#### 인수 기준

1. 사용자가 설정 탭에 접근할 때 시스템은 프로필 편집 옵션을 표시해야 합니다
2. 사용자가 설정 탭에 접근할 때 시스템은 알림 설정을 표시해야 합니다
3. 사용자가 설정 탭에 접근할 때 시스템은 로그아웃 및 계정 삭제 옵션을 제공해야 합니다
4. 사용자가 프로필을 업데이트할 때 시스템은 변경사항을 즉시 저장해야 합니다

### 요구사항 6

**사용자 스토리:** 커뮤니티 관리자로서, 추가 관리 도구를 사용하여 커뮤니티 질서와 소통을 유지하고 싶습니다.

#### 인수 기준

1. 관리자가 설정에 접근할 때 시스템은 상단에 "모임 관리" 섹션을 표시해야 합니다
2. 관리자가 멤버 관리에 접근할 때 시스템은 검색 기능과 함께 모든 멤버를 표시해야 합니다
3. 관리자가 멤버를 선택할 때 시스템은 제거 또는 활동 제한 옵션을 제공해야 합니다
4. 관리자가 공지사항을 작성할 때 시스템은 모든 채널 멤버에게 푸시 알림을 전송해야 합니다
5. 관리자가 채널 정보를 수정해야 할 때 시스템은 이름과 설명 편집을 허용해야 합니다
6. 관리자가 새 초대 링크가 필요할 때 시스템은 새로운 링크를 생성하고 제공해야 합니다

### 요구사항 7

**사용자 스토리:** 사용자로서, 관련 알림을 받아 커뮤니티 활동에 대한 정보를 유지하고 싶습니다.

#### 인수 기준

1. 채널에 새 이벤트가 생성될 때 시스템은 모든 멤버에게 푸시 알림을 전송해야 합니다
2. 관리자가 공지사항을 전송할 때 시스템은 모든 멤버에게 푸시 알림을 전달해야 합니다
3. 내가 만든 이벤트에 누군가 참여할 때 시스템은 이벤트 주최자인 나에게 알림을 보내야 합니다
4. 내가 참여한 이벤트가 수정될 때 시스템은 변경사항을 나에게 알려야 합니다
5. 사용자가 설정에서 알림을 비활성화할 때 시스템은 사용자의 선택을 존중해야 합니다

### 요구사항 8

**사용자 스토리:** 사용자로서, 이벤트를 생성하고 관리하여 커뮤니티 활동을 조직하고 싶습니다.

#### 인수 기준

1. 사용자가 플로팅 액션 버튼을 탭할 때 시스템은 이벤트 생성 폼을 표시해야 합니다
2. 이벤트를 생성할 때 시스템은 이벤트 이름, 날짜/시간, 장소, 설명을 필수로 요구해야 합니다
3. 이벤트가 생성될 때 시스템은 모든 채널 멤버에게 보이도록 해야 합니다
4. 내가 이벤트 주최자일 때 시스템은 이벤트 세부사항 수정을 허용해야 합니다
5. 이벤트 세부사항이 수정될 때 시스템은 모든 참가자에게 알림을 보내야 합니다

### 요구사항 9

**사용자 스토리:** 사용자로서, 직관적인 앱 내비게이션을 통해 모든 기능에 쉽게 접근하고 싶습니다.

#### 인수 기준

1. 앱이 로드될 때 시스템은 "나의 벙", "전체 벙 일정", "설정" 세 개의 탭이 있는 하단 내비게이션을 표시해야 합니다
2. 탭 간 전환 시 시스템은 사용자 컨텍스트와 데이터를 유지해야 합니다
3. 앱을 사용할 때 시스템은 모든 화면에서 일관된 UI 패턴을 제공해야 합니다
4. 작업을 수행할 때 시스템은 적절한 피드백과 로딩 상태를 제공해야 합니다

### 요구사항 10

**사용자 스토리:** 커뮤니티 관리자로서, 모임의 회칙을 작성하고 관리하여 멤버들이 규칙을 쉽게 이해할 수 있도록 하고 싶습니다.

#### 인수 기준

1. 관리자가 모임 관리 메뉴에 접근할 때 시스템은 "회칙 관리" 옵션을 제공해야 합니다
2. 관리자가 회칙을 작성할 때 시스템은 텍스트 편집기를 제공해야 합니다
3. 회칙이 저장될 때 시스템은 Google Datastore에 텍스트 형태로 저장해야 합니다
4. 관리자가 회칙을 수정할 때 시스템은 기존 내용을 불러와 편집할 수 있도록 해야 합니다
5. 회칙이 업데이트될 때 시스템은 모든 멤버에게 알림을 전송해야 합니다

### 요구사항 11

**사용자 스토리:** 커뮤니티 멤버로서, 모임 회칙에 대한 질문을 AI 챗봇을 통해 쉽게 해결하고 싶습니다.

#### 인수 기준

1. 모든 멤버가 앱에 접근할 때 시스템은 "회칙 문의" 또는 "챗봇" 메뉴를 제공해야 합니다
2. 멤버가 챗봇에 접근할 때 시스템은 대화형 인터페이스를 표시해야 합니다
3. 멤버가 질문을 입력할 때 시스템은 Vertex AI Search를 활용하여 관련 회칙 내용을 검색해야 합니다
4. 챗봇이 답변할 때 시스템은 모임장이 등록한 회칙을 기준으로 정확한 정보를 제공해야 합니다
5. 챗봇이 답변을 찾을 수 없을 때 시스템은 관리자에게 문의하도록 안내해야 합니다
6. 챗봇 대화 내역은 시스템에서 사용자별로 저장되어야 합니다

### 요구사항 12

**사용자 스토리:** 사용자로서, 벙의 진행 상태를 명확히 파악하여 적절한 시점에 행동할 수 있기를 원합니다.

#### 인수 기준

1. 벙이 생성될 때 시스템은 "예정됨" 상태로 설정하고 D-5와 같이 남은 일수를 표시해야 합니다
2. 벙주가 더 이상 인원 추가를 받고 싶지 않을 때 시스템은 "마감됨" 상태로 변경할 수 있는 옵션을 제공해야 합니다
3. 마감된 벙에서 참여자가 참여 취소를 할 경우 시스템은 자동으로 "예정됨" 상태로 되돌려야 합니다
4. 벙 일정 당일 시간이 되면 시스템은 자동으로 "진행중" 상태로 변경해야 합니다
5. 벙이 완료되면 시스템은 "완료됨" 상태로 변경해야 합니다
6. 벙주가 벙을 취소하면 시스템은 "취소됨" 상태로 변경하고 모든 참여자에게 알림을 보내야 합니다
7. 각 벙 목록에서 시스템은 현재 상태를 명확히 표시해야 합니다
8. 마감된 벙의 경우 시스템은 새로운 참여 신청을 차단해야 합니다

### 요구사항 13

**사용자 스토리:** 벙주로서, 벙 생성 시 정산 필요 여부를 설정하여 비용 관리를 효율적으로 하고 싶습니다.

#### 인수 기준

1. 벙을 생성할 때 시스템은 "정산 필요 여부" 옵션을 제공해야 합니다
2. 정산이 필요하지 않은 벙의 경우 시스템은 일정 완료 후 자동으로 "완료됨" 상태로 처리해야 합니다
3. 정산이 필요한 벙의 경우 시스템은 벙주가 수동으로 완료 처리할 때까지 "정산 대기" 상태를 유지해야 합니다
4. 벙 상세 정보에서 시스템은 정산 필요 여부를 명확히 표시해야 합니다

### 요구사항 14

**사용자 스토리:** 벙주로서, 벙 완료 후 참여자들과 비용을 정산하여 투명한 비용 관리를 하고 싶습니다.

#### 인수 기준

1. 정산이 필요한 벙이 완료되면 시스템은 벙주에게 정산 관리 메뉴를 제공해야 합니다
2. 벙주가 정산을 시작할 때 시스템은 예금주명, 은행명, 계좌번호 입력을 요구해야 합니다
3. 벙주가 정산 내역을 작성할 때 시스템은 총 비용과 참여자별 정산 금액 입력을 허용해야 합니다
4. 벙주가 영수증이나 증빙자료를 첨부할 때 시스템은 이미지 업로드 기능을 제공해야 합니다
5. 정산 정보가 완성되면 시스템은 모든 참여자에게 정산 알림을 전송해야 합니다

### 요구사항 15

**사용자 스토리:** 벙 참여자로서, 정산 알림을 받고 입금 완료를 알려 정산 과정을 투명하게 진행하고 싶습니다.

#### 인수 기준

1. 참여자가 정산 알림을 받을 때 시스템은 정산 상세 내역과 계좌 정보를 표시해야 합니다
2. 참여자가 입금을 완료한 후 시스템은 "입금 완료" 버튼을 제공해야 합니다
3. 참여자가 입금 완료를 알릴 때 시스템은 벙주에게 입금 완료 알림을 전송해야 합니다
4. 시스템은 각 참여자의 입금 상태를 실시간으로 추적해야 합니다

### 요구사항 16

**사용자 스토리:** 벙주로서, 모든 참여자의 입금을 확인한 후 벙을 완료 처리하여 정산을 마무리하고 싶습니다.

#### 인수 기준

1. 벙주가 정산 관리에 접근할 때 시스템은 각 참여자의 입금 상태를 표시해야 합니다
2. 모든 참여자가 입금 완료를 알렸을 때 시스템은 벙주에게 "벙 완료 처리" 버튼을 활성화해야 합니다
3. 벙주가 벙을 완료 처리할 때 시스템은 벙 상태를 "완료됨"으로 변경해야 합니다
4. 완료된 벙은 시스템에서 "나의 벙" 탭의 "지난 벙" 섹션으로 이동해야 합니다
5. 완료 처리 시 시스템은 모든 참여자에게 정산 완료 알림을 전송해야 합니다